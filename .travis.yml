sudo: false

language: python
python:
  - "2.7"

cache: pip

script:
  - ./manage.py check
  - py.test -k "not unoconv" --cov=catalog --cov=documents --cov=notifications --cov=tags --cov=telepathy --cov=users --cov=www
  - make shower
  - make database

addons:
  apt:
    packages:
    - graphicsmagick
    # Unoconv is not supported on travis right now
    # but we do not run unoconv tests on travis so it's not a problem
    # - unoconv
    - python-dev

notifications:
  email:
    on_success: change
    on_failure: change

after_success: coveralls
