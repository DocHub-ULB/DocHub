{% extends "base.html" %}

{% load static %}

{# hide the search bar on the home page #}
{% block navbar %}
    {% with hide_search=True %}
        {% include "navbar.html" %}
    {% endwith %}
{% endblock %}

{% block content %}
    {% comment %} {% if request.user.welcome %}
        {% include "welcome.html" %}
    {% endif %} {% endcomment %}

    <!-- Research bar -->
    <div style="position:absolute; width: 50vw;margin-right: -50%;transform: translate(-50%, 0%);left: 50%;top: 33.33%">
        <div
            style="border: 2px solid black;border-radius: 0.5rem;with: 100%;max-width: 900px;margin-left: auto;margin-right: auto;">
            <i class="fas fa-search" style="margin: 0.5rem;"></i>
            {% include "autocomplete/search.html" %}
        </div>
        <div class="button-search">
            Chercher
        </div>
    </div>

    <!-- Cours -->
    <div
        style="position:absolute;top: 50%;left: 50%;border: 2px solid black;border-radius: 0.5rem;width: 50vw;height: 40vh;margin-right: -50%;transform: translate(-50%, 0%);">
    </div>
    <br>
    {% if request.user.following_courses|length > 0 %}
    <div class="row">
        <div class="large-6 columns">
            <h3>Documents r√©cents</h3>
            <ul class="no-list">
                {% for doc in recent_docs %}
                <li>
                    <a href="{% url 'document_show' doc.id %}">
                        <span class="course-label secondary radius label recent-blob fixed-label">
                            {{ doc.course.slug }}
                        </span>
                        {{ doc.name|truncatechars:40 }}
                    </a>
                </li>
                {% endfor %}
            </ul>

        </div>
        <div class="large-6 columns">
            <h3>Mes cours</h3>
            <ul class="no-list">
                {% for course in request.user.following_courses %}
                <li class="nav-link">
                    <a href="{% url 'course_show' course.slug %}">
                        <span class="course-label success radius label fixed-label">
                            {{ course.slug }}
                        </span>
                        {{ course.name|truncatechars:40 }}
                    </a>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endif %}

{% endblock %}
